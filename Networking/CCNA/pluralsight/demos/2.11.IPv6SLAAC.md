# Demo:<br>IPv6 SLAAC

Let’s observe how **SLAAC (Stateless Address Auto Configuration)** works in practice on a macOS system.

Initially, with IPv6 disabled on the router, the Mac will only display a **Link-local IPv6 address** (starting with `fe80::`). You can verify this with:

```bash
ifconfig en0
```

Example output:

```
en0: flags=8863<UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST> mtu 1500
        ether ae:4b:4a:a4:ab:17
        inet6 fe80::10da:80e6:335c:b94%en0 prefixlen 64 scopeid 0xb
        inet 192.168.1.27 netmask 0xffffff00 broadcast 192.168.1.255
        status: active
```

Here, the `fe80::` address represents **local-only communication**, as SLAAC is not yet active.

### Enabling SLAAC
Once IPv6 is enabled on the router (for example, advertising `2001:db8:4:aaaa::/64`), the router sends **Router Advertisements (RAs)** that inform connected devices of the available IPv6 prefix.

Upon receiving the RA, macOS automatically:

1. Generates **two IPv6 global unicast addresses**:
   - A **permanent address**, created via **Modified EUI-64** (based on the MAC address).
   - A **temporary address**, used primarily for **outbound connections** to ensure privacy.
2. Keeps the existing **Link-local address** (`fe80::`) for local communication.

You can verify this configuration again:

```bash
ifconfig en0
```

Example output:

```
inet6 2001:db8:4:aaaa:20c:29ff:fe6a:5c8b prefixlen 64 autoconf
inet6 2001:db8:4:aaaa:abcd:1234:ef56:7890 prefixlen 64 temporary
inet6 fe80::10da:80e6:335c:b94%en0 prefixlen 64 scopeid 0xb
```

### Testing Connectivity
Once the IPv6 address is acquired, you can test communication to the router’s **global unicast address**:

```bash
ping6 2001:db8:4:aaaa::1
```

A successful response indicates that **SLAAC is functioning correctly** and the device has full IPv6 connectivity.

### Notes
- macOS uses SLAAC **by default** when an IPv6-enabled router is present.
- Temporary (privacy) addresses are **enabled by default** to prevent device tracking.
- You can manage IPv6 configuration through:

  ```bash
  networksetup -getinfo Wi-Fi
  networksetup -setv6automatic Wi-Fi
  ```