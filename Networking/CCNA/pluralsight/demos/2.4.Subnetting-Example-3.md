# Subentting Example 3:<br>Subnetting 10.200.0.0/13 into 200 Networks

### Problem
- ISP gives: **10.200.0.0/13**
  - `/13` mask = **255.248.0.0**
  - Allocation range = **10.200.0.0 – 10.207.255.255** (second octet 200..207)
- Requirement: **200 unique networks**

### Step 1 — Determine bits to borrow
- Bits available to change (host bits inside the /13): `32 − 13 = 19` bits
- Need ≥ 200 networks → find smallest `2^n ≥ 200`
  - `2^7 = 128` (too few)
  - `2^8 = 256` (enough)
- **Borrow 8 bits** → number of subnets = `2^8 = 256` (we only need 200).

### Step 2 — New mask and host capacity
- New prefix = `13 + 8 = /21` → **/21 = 255.255.248.0**
- Host bits remaining = `32 − 21 = 11`
- Usable hosts per subnet = `2^11 − 2 = 2048 − 2 = 2046` hosts

### Step 3 — Subnet increment / alignment
A `/21` has mask `255.255.248.0`. The third octet increments by:

  ```
  block size = 256 − 248 = 8
  ```

  So each /21 advances the third octet by **8** (and carries into the second octet when >255).
- Within the ISP allocation (`10.200.0.0` → `10.207.255.255`) you have `256` /21 subnets (indexed 0..255).

### Step 4 — How to convert subnet number (N) → network address
If you number subnets from `N = 0`..`255`, the network address for subnet `N` is:

1. Compute `offset = N * 2048` (2048 = addresses per /21).
2. Convert offset to (second\_octet\_add, third\_octet\_value):

   ```
   third_increment = (N * 8) % 256
   second_add      = floor((N * 8) / 256)
   network_second = 200 + second_add
   network_third  = third_increment
   network = 10.<network_second>.<network_third>.0/21
   ```

(Explanation: each +1 in third octet = 256 addresses; a /21 = 2048 addresses = 8 \* 256, so N\*8 maps to third\_octet increments; overflow increases second octet.)

### Step 5 — Examples (as requested)
Using the formula above:
- **Network 0** (`N=0`) → `10.200.0.0/21`
- **Network 20** (`N=20`) → `20 * 8 = 160` → `10.200.160.0/21`
- **Network 31** (`N=31`) → `31 * 8 = 248` → `10.200.248.0/21`
- **Network 48** (`N=48`) → `48 * 8 = 384 = 1*256 + 128` → second octet `200+1=201`, third `128` → `10.201.128.0/21`
- **Network 199** (`N=199`) → `199 * 8 = 1592 = 6*256 + 56` → second octet `200+6=206`, third `56` → `10.206.56.0/21`

(These match the example addresses you gave.)

### Final results (summary)
- **New subnet mask:** `/21` → `255.255.248.0`
- **Subnets available in the /13 allocation:** `256` (0..255) — you need only 200.
- **Usable hosts per /21 subnet:** `2046`
- **Allocation range (original /13):** `10.200.0.0 – 10.207.255.255`
- **Subnet numbering rule:** each subnet N starts at `10.(200 + floor(N*8/256)).( (N*8) mod 256 ).0/21`